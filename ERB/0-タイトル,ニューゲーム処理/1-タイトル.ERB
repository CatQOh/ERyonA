@SYSTEM_TITLE

MAX_LINE = 15

CALL エフェクト生成

;GCREATEFROMFILE 2, "enemy/hound.png"
;SPRITECREATE "hound", 2
;HTML_PRINT "<nobr><img src='hound' srcb='' width='400' height='400'><nonbutton pos='0'><img src='斬撃' srcb='' width='400' height='400'></nonbutton></nobr>"

;PRINTL 
;PRINTL 
;PRINTL 

;CALL ANIMEWAIT, 1000


[SKIPSTART]
DRAWLINE
ALIGNMENT CENTER
PRINTL era未定
DRAWLINE
ALIGNMENT LEFT
PRINTFORML [0] - 最初から始める
PRINTFORML [1] - 続きから始める

CALL INPUTF, 0, 1

SELECTCASE RESULT
	CASE 0
		JUMP ニューゲーム
	CASE 1
ENDSELECT

CALL COLUMNCREATE, 0
CALL COLUMNRESIZE, 0, 500, 500
CALL COLUMNMOVE, 0, 500, 700
CALL COLUMNPRINTL, 0, "[1]TEST"
CALL COLUMNPRINTL, 0, "[2]TEST"

CALL COLUMNSHOW

PRINTL
PRINTW
[SKIPEND]

CALL COLUMNCREATE, 0

DO
	CALL カラム生成, "タイトル", "最初から始める", "続きから始める"
LOOP 1

@タイトル_最初から始める
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC LINE

CALL COLUMNPRINTL, 0, "era未定 作者:Enter"
FOR LCOUNT, 0, 10
	SELECTCASE CHKDATA(LCOUNT)
		CASE 0
			CALL COLUMNPRINTL, 0, @"[{LCOUNT}] %RESULTS%"
		CASE 1
			CALL COLUMNPRINTL, 0, @"[{LCOUNT}] ----"
			RESETCOLOR
		CASE 2 TO 4
			CALL COLUMNPRINTL, 0, @"[{LCOUNT}] 無効なセーブデータ"
	ENDSELECT
NEXT
;COLUMNLOG:0:(COLUMN:0:LINE) = "<nonbutton pos='300'><img src='NO_IMAGE' srcb='' width='200' height='200'></nonbutton>"

IF INRANGE(CRESULT:1, 0, 9)
	CALL COLUMNPRINTL, 0, @"{CRESULT:1}番には既にセーブデータが存在します。上書きしてニューゲーム開始しますか？"
	CALL COLUMNPRINTL, 0, @"[{CRESULT:1+10}] はい [20] いいえ"
ENDIF

@タイトル_最初から始める_INPUT
IF INRANGE(CRESULT:1, 0, 9)
	IF CHKDATA(CRESULT:1) > 0
		VARLINE = LINECOUNT
		CALL ニューゲーム, CRESULT:1
		LOOP_BREAK = 1
	ENDIF
ELSEIF INRANGE(CRESULT:1, 10, 19)
	VARLINE = LINECOUNT
	CALL ニューゲーム, CRESULT:1-10
	LOOP_BREAK = 1
ENDIF

@タイトル_続きから始める
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC LINE
CALL COLUMNPRINTL, 0, "era未定 作者:Enter"
FOR LCOUNT, 0, 10
	SELECTCASE CHKDATA(LCOUNT)
		CASE 0
			CALL COLUMNPRINTL, 0, @"[{LCOUNT}] %RESULTS%"
		CASE 1
			CALL COLUMNPRINTL, 0, @"[{LCOUNT}] ----", "gray"
			RESETCOLOR
		CASE 2 TO 4
			CALL COLUMNPRINTL, 0, @"[{LCOUNT}] 無効なセーブデータ", "gray"
	ENDSELECT
NEXT

@タイトル_続きから始める_INPUT
IF CHKDATA(CRESULT:1) == 0
	VARLINE = LINECOUNT
	LOADDATA CRESULT:1
ENDIF

@SHOW_SHOP
MAX_LINE = 30
CALL COLUMNCREATE, 0
CALL データ定義
JUMP メインメニュー
